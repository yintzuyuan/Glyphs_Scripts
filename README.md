# Glyphs_Scripts

## 腳本安裝方法

1. 視窗->外掛程式管理員
2. 從視窗上方切換到`腳本`分頁。
3. 搜尋`殷慈遠的腳本集`找到後點選左側的安裝按鈕。
4. Done。

## 腳本內容

### SmartBBox - 智慧組件編輯框設定

1. 透過 UI 介面可自訂要新增子圖層的名稱、長寬軸的極值
2. 可透過勾選框選擇是否新增最小圖層（可自訂名稱）。
3. 若有自訂名稱或數值調整，腳本執行過後系統會記住使用者偏好設定。 
- 長寬軸極值若有調整，會覆寫之前的設定數值。子圖層改名會另外新增圖層並與極值配對（原子圖層會保留）。


<details> <summary>發想&解決過程</summary>

這兩天花了一些時間研究 Glyphs 的腳本語法，對於去年曾經提到智慧型部件設定繁瑣的問題終於解決了。在此分享一下我的解決歷程。

---

在我去年對於這個問題錄製了 [發問影片](https://youtu.be/A97dZtYgmAA) 總之就是為了製作可變形的智慧型部件需要新增圖層、為它們命名、設定軸屬性和配對圖層，太多繁瑣的步驟希望能透過腳本快速完成。

這是我在 Glyphs 論壇的 [發問主題](https://forum.glyphsapp.com/t/about-the-height-and-width-values-of-smart-component/20402)。

---

我把腳本拆成兩個部分解決，圖層部分以及智慧型部件設定的部分。

---

圖層部分我參考了 [mekkablue 腳本集](https://github.com/mekkablue/Glyphs-Scripts) 裡面的 Insert Layers 腳本（在 Interpolation 分類中），作者將選項寫成一套ＵＩ，我只截取了生成的部分改成符合自己需求的語法


---

最後是智慧型部件設定的部分，起先我找到了官網提供的語法集，裡面確實提供了我需要的功能：[設定軸屬性](https://docu.glyphsapp.com/#GSGlyph.smartComponentAxes) 和 [配對圖層](https://docu.glyphsapp.com/#GSLayer.smartComponentPoleMapping)。


但是設定軸屬性的部分，我複製了範例的語法卻在 Glyphs 中無法順利運行。於是我用語法中的幾個關鍵字在官方論壇中尋找，發現了這篇文章。

時間來到今年中，中國的設計師提出了相同的 [發問主題](https://forum.glyphsapp.com/t/automate-script-for-layer-settings-of-smart-component/23011/6)，或許是問題描述的比較完整所以得到了解決。

裡面提供的語法成為我需要的腳本最後一塊拼圖，這個腳本終於能在未來的造字過程中成功幫我省下很多時間。

</details>

### 組件垂直居中

- 將選取字符的所有圖層中，智慧組件垂直對齊至中心點（座標軸x=0）。

### 組件水平居中

- 將選取字符的所有圖層中，智慧組件水平對齊至中心點（座標軸y=0）。

### 根據錨點建立智慧組件軸

- 此腳本會檢測主要圖層的錨點，並為尚未存在的錨點建立新圖層。同時，它會在所有現有圖層中添加這些新錨點。腳本還會為每個新錨點在智慧組件設定中建立屬性，使用完整的錨點名稱，並將其極端值設定為最大 100、最小 0。

